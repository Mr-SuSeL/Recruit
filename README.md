### Recruitment task for backend dev 
#### Author: Łukasz Susłowicz - email: susel.invest@gmail.com

# Profil Logger

A simple Python logging utility with multiple handlers (JSON, CSV, Plain Text, SQLite) and a reader for analyzing log data.

---

## Table of Contents

- [Features](#features)
- [What This Code Does For You (User Perspective)](#what-this-code-does-for-you-user-perspective)
- [Installation](#installation)
- [Usage](#usage)
  - [Logging](#logging)
  - [Reading Logs](#reading-logs)
- [Project Structure](#project-structure)
- [Running Tests](#running-tests)
- [Contributing](#contributing)
- [License](#license)

---

## Features

- **Multiple Handlers**: Supports logging to JSON, CSV, plain text files, and SQLite databases.
- **Configurable Log Levels**: Define minimum log levels for different handlers.
- **Log Entry Management**: `LogEntry` class to standardize log data.
- **Log Reader**: `ProfilLoggerReader` for querying and analyzing log data from handlers:
    - Search by text (case-sensitive/insensitive)
    - Filter by log level
    - Filter by date range
    - Group logs by level
    - Sort logs by date (ascending/descending)

---

## What This Code Does For You (User Perspective)

**Imagine you have an application, script, or system that performs various actions.** It could be a web server, a data processing script, or even a simple automation tool. As it runs, you want to know what it's doing:
* Did it start correctly?
* Are there any warnings about potential issues?
* Did an error occur that needs your attention?
* What happened at a specific time?

This "Profil Logger" project provides the tools to answer these questions by **efficiently recording events and messages** generated by your code.

### How You Can Use It:

1.  **As a Developer integrating the logger into your application:**
    * You can easily **add logging capabilities** to your Python code. Instead of just printing messages to the console (which disappear), you can use `ProfilLogger` to save them permanently to various file formats (JSON, CSV, plain text) or even an SQLite database.
    * This is incredibly useful for **debugging**, **monitoring application health**, and **tracking user activity**.
    * You decide what types of messages (e.g., `INFO`, `WARNING`, `ERROR`) go where and with what level of detail.

2.  **As a User/Administrator analyzing generated logs:**
    * Once your application has run and generated log files, the `ProfilLoggerReader` helps you **make sense of the data**.
    * You don't need to manually open huge text files or CSVs and search. The reader provides powerful functions to:
        * **Find specific events**: Search for keywords like "failed login" or "disk full".
        * **Filter by importance**: See only `ERROR` messages or `CRITICAL` alerts.
        * **Analyze trends over time**: Look at all activity from a specific day or week.
        * **Get summaries**: Quickly see how many `INFO` messages vs. `WARNING` messages were recorded.
    * This means you can **quickly diagnose problems, monitor performance, and understand your application's behavior** without diving into the code itself.

**In essence, this project helps you keep a detailed, organized, and easily searchable record of what your software is doing, making maintenance and troubleshooting much simpler.**

---

## Installation

1.  **Clone the repository:**
    ```bash
    git clone [https://github.com/your-username/profil-logger.git](https://github.com/your-username/profil-logger.git)
    cd profil-logger
    ```

2.  **Create and activate a virtual environment:**
    ```bash
    python -m venv venv
    # On Windows
    .\venv\Scripts\activate
    # On macOS/Linux
    source venv/bin/activate
    ```

3.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```
    *(If you don't have a `requirements.txt`, you'll need to create one using `pip freeze > requirements.txt` after installing any libraries like `pytest` if they're used by your main application, otherwise just list core dependencies.)*

---

## Usage

### Logging

To use the logger, instantiate `ProfilLogger` with desired handlers.

**Example:**

```python
from profil_logger.logger import ProfilLogger, LogLevel
from profil_logger.handlers import JsonHandler, CSVHandler, FileHandler, SQLLiteHandler
import os

# Create an output directory for logs
output_dir = "my_logs"
os.makedirs(output_dir, exist_ok=True)

# Initialize handlers
json_handler = JsonHandler(output_dir=output_dir)
csv_handler = CSVHandler(output_dir=output_dir)
file_handler = FileHandler(output_dir=output_dir)
sqlite_handler = SQLLiteHandler(db_path=os.path.join(output_dir, "app_logs.db"), table_name="logs")


# Initialize the logger with multiple handlers
logger = ProfilLogger()
logger.add_handler(json_handler)
logger.add_handler(csv_handler, min_level=LogLevel.WARNING) # CSV will only log WARNING and above
logger.add_handler(file_handler)
logger.add_handler(sqlite_handler)

# Log some messages
logger.info("Application started.")
logger.debug("Debug message, won't show in CSV by default.")
logger.warning("Low disk space on server.")
logger.error("Failed to connect to external API.")
logger.critical("System shutdown imminent!")

print(f"Logs written to: {output_dir}")